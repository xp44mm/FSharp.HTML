%{
open System
open FSharp.HTML
open FSharp.HTML.TbodyTokenUtils
type token = HtmlToken
%}

precede = [ 
    "<table>" 
    "</caption>" "<caption/>"
    "</colgroup>" "<colgroup/>"
    ]

any = COMMENT|TEXT|CDATA|EOF
    | TAGSTART
    | TAGEND
    | TAGSELFCLOSING
    | WS
    | <precede> | ["<tr>" "<tr/>"]

%%

<precede> [COMMENT WS]* / ["<tr>" "<tr/>"] { lexbuf @ [TagStart("tbody",[])] }

<any> { lexbuf }


