%{
open System
open FSharp.HTML
open FSharp.HTML.ParagraphTokenUtils
type token = HtmlToken
%}

content = COMMENT|CDATA|TEXT|TAGSELFCLOSING|TAGSTART|TAGEND
any = <content> | [ "<p>" "</p>" "<p/>" BLOCKTAG ]|EOF

%%

"<p>" <content> * "</p>" { lexbuf }
"<p>" <content> * / [ "<p>" "<p/>" BLOCKTAG ]  { lexbuf @ [TagEnd "p"] }

<any>  { lexbuf }
