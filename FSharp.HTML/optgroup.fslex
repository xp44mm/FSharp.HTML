%{
open System
open FSharp.HTML
open FSharp.HTML.OptgroupTokenUtils
type token = HtmlToken
%}

content = CDATA|COMMENT|TEXT|TAGSELFCLOSING|TAGSTART|TAGEND
follow = [ "<optgroup>" "<optgroup/>" "</select>" ]

any = <content>|<follow>|EOF

%%

"<optgroup>" <content> * "</optgroup>" { lexbuf }
"<optgroup>" <content> * / <follow>   { lexbuf @ [TagEnd "optgroup"] }
<any>                                  { lexbuf }


